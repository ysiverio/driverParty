<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DriverParty - Administración</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="admin-container">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-content">
                <div class="logo-section">
                    <i class="fas fa-car"></i>
                    <h1>DriverParty</h1>
                    <span class="version">v2.0.0</span>
                </div>
                <div class="user-section">
                    <div class="user-info">
                        <img id="adminProfilePic" src="default-avatar.png" alt="Admin">
                        <span id="adminName">Administrador</span>
                    </div>
                    <button id="logoutBtn" class="btn-logout">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </li>
                    <li class="nav-item" data-section="pricing">
                        <i class="fas fa-dollar-sign"></i>
                        <span>Configuración de Precios</span>
                    </li>
                    <li class="nav-item" data-section="drivers">
                        <i class="fas fa-users"></i>
                        <span>Gestión de Conductores</span>
                    </li>
                    <li class="nav-item" data-section="users">
                        <i class="fas fa-user-friends"></i>
                        <span>Gestión de Usuarios</span>
                    </li>
                    <li class="nav-item" data-section="trips">
                        <i class="fas fa-route"></i>
                        <span>Historial de Viajes</span>
                    </li>
                    <li class="nav-item" data-section="analytics">
                        <i class="fas fa-chart-bar"></i>
                        <span>Analíticas</span>
                    </li>
                    <li class="nav-item" data-section="settings">
                        <i class="fas fa-cog"></i>
                        <span>Configuración General</span>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="section-header">
                    <h2>Dashboard</h2>
                    <p>Visión general de la plataforma</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalDrivers">0</h3>
                            <p>Conductores Activos</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-user-friends"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalUsers">0</h3>
                            <p>Usuarios Registrados</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-route"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalTrips">0</h3>
                            <p>Viajes Hoy</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalRevenue">$0</h3>
                            <p>Ingresos Hoy</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-charts">
                    <div class="chart-container">
                        <h3>Viajes por Hora</h3>
                        <canvas id="tripsChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Ingresos por Día</h3>
                        <canvas id="revenueChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Pricing Configuration Section -->
            <section id="pricing" class="content-section">
                <div class="section-header">
                    <h2>Configuración de Precios</h2>
                    <p>Gestiona las tarifas y comisiones de la plataforma</p>
                </div>
                
                <div class="pricing-config">
                    <div class="config-card">
                        <h3>Tarifas por Kilómetro</h3>
                        <div class="form-group">
                            <label for="driverRatePerKm">Precio por km (Conductor):</label>
                            <div class="input-group">
                                <span class="currency">$</span>
                                <input type="number" id="driverRatePerKm" step="0.01" min="0" value="2.50">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="userRatePerKm">Precio por km (Usuario):</label>
                            <div class="input-group">
                                <span class="currency">$</span>
                                <input type="number" id="userRatePerKm" step="0.01" min="0" value="3.50">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="minimumFare">Tarifa Mínima:</label>
                            <div class="input-group">
                                <span class="currency">$</span>
                                <input type="number" id="minimumFare" step="0.01" min="0" value="5.00">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="baseFare">Tarifa Base:</label>
                            <div class="input-group">
                                <span class="currency">$</span>
                                <input type="number" id="baseFare" step="0.01" min="0" value="2.00">
                            </div>
                        </div>
                    </div>
                    
                    <div class="config-card">
                        <h3>Multiplicadores</h3>
                        <div class="form-group">
                            <label for="surgeMultiplier">Multiplicador Hora Pico:</label>
                            <div class="input-group">
                                <input type="number" id="surgeMultiplier" step="0.1" min="1" value="1.5">
                                <span class="unit">x</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="nightRateMultiplier">Multiplicador Tarifa Nocturna:</label>
                            <div class="input-group">
                                <input type="number" id="nightRateMultiplier" step="0.1" min="1" value="1.2">
                                <span class="unit">x</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="config-card">
                        <h3>Cargos Adicionales</h3>
                        <div class="form-group">
                            <label for="waitingFeePerMinute">Cargo por Minuto de Espera:</label>
                            <div class="input-group">
                                <span class="currency">$</span>
                                <input type="number" id="waitingFeePerMinute" step="0.01" min="0" value="0.50">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="cancellationFee">Cargo por Cancelación:</label>
                            <div class="input-group">
                                <span class="currency">$</span>
                                <input type="number" id="cancellationFee" step="0.01" min="0" value="3.00">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="pricing-preview">
                    <h3>Vista Previa de Precios</h3>
                    <div class="preview-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Distancia</th>
                                    <th>Precio Usuario</th>
                                    <th>Ganancia Conductor</th>
                                    <th>Comisión Plataforma</th>
                                </tr>
                            </thead>
                            <tbody id="pricingPreviewBody">
                                <!-- Se llena dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button id="savePricingBtn" class="btn-primary">
                        <i class="fas fa-save"></i>
                        Guardar Configuración
                    </button>
                    <button id="resetPricingBtn" class="btn-secondary">
                        <i class="fas fa-undo"></i>
                        Restaurar Valores
                    </button>
                </div>
            </section>

            <!-- Drivers Management Section -->
            <section id="drivers" class="content-section">
                <div class="section-header">
                    <h2>Gestión de Conductores</h2>
                    <p>Administra conductores y sus estados</p>
                </div>
                
                <div class="drivers-filters">
                    <div class="filter-group">
                        <label for="driverStatusFilter">Estado:</label>
                        <select id="driverStatusFilter">
                            <option value="all">Todos</option>
                            <option value="online">En línea</option>
                            <option value="offline">Desconectado</option>
                            <option value="busy">Ocupado</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="driverRatingFilter">Calificación mínima:</label>
                        <select id="driverRatingFilter">
                            <option value="0">Cualquiera</option>
                            <option value="4.0">4.0+</option>
                            <option value="4.5">4.5+</option>
                            <option value="4.8">4.8+</option>
                        </select>
                    </div>
                    
                    <button id="refreshDriversBtn" class="btn-secondary">
                        <i class="fas fa-refresh"></i>
                        Actualizar
                    </button>
                </div>
                
                <!-- Sección de solicitudes pendientes -->
                <div id="pending-drivers-section" class="pending-drivers-section" style="display: none;">
                    <h3>Solicitudes Pendientes (<span id="pending-count">0</span>)</h3>
                    <div class="pending-drivers-list">
                        <!-- Se llena dinámicamente -->
                    </div>
                </div>
                
                <div class="drivers-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Conductor</th>
                                <th>Estado</th>
                                <th>Calificación</th>
                                <th>Viajes</th>
                                <th>Última Actividad</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="driversTableBody">
                            <!-- Se llena dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Users Management Section -->
            <section id="users" class="content-section">
                <div class="section-header">
                    <h2>Gestión de Usuarios</h2>
                    <p>Administra usuarios registrados</p>
                </div>
                
                <div class="users-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Usuario</th>
                                <th>Email</th>
                                <th>Viajes Realizados</th>
                                <th>Último Viaje</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- Se llena dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Trips History Section -->
            <section id="trips" class="content-section">
                <div class="section-header">
                    <h2>Historial de Viajes</h2>
                    <p>Consulta el historial completo de viajes</p>
                </div>
                
                <div class="trips-filters">
                    <div class="filter-group">
                        <label for="tripStatusFilter">Estado:</label>
                        <select id="tripStatusFilter">
                            <option value="all">Todos</option>
                            <option value="completed">Completados</option>
                            <option value="cancelled">Cancelados</option>
                            <option value="in_progress">En Progreso</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="tripDateFilter">Fecha:</label>
                        <input type="date" id="tripDateFilter">
                    </div>
                    
                    <button id="exportTripsBtn" class="btn-secondary">
                        <i class="fas fa-download"></i>
                        Exportar
                    </button>
                </div>
                
                <div class="trips-table">
                    <table>
                        <thead>
                            <tr>
                                <th>ID Viaje</th>
                                <th>Usuario</th>
                                <th>Conductor</th>
                                <th>Ruta</th>
                                <th>Precio</th>
                                <th>Estado</th>
                                <th>Fecha</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="tripsTableBody">
                            <!-- Se llena dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics" class="content-section">
                <div class="section-header">
                    <h2>Analíticas</h2>
                    <p>Métricas y estadísticas de la plataforma</p>
                </div>
                
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>Ingresos Mensuales</h3>
                        <canvas id="monthlyRevenueChart"></canvas>
                    </div>
                    
                    <div class="analytics-card">
                        <h3>Viajes por Día</h3>
                        <canvas id="dailyTripsChart"></canvas>
                    </div>
                    
                    <div class="analytics-card">
                        <h3>Conductores Activos</h3>
                        <canvas id="activeDriversChart"></canvas>
                    </div>
                    
                    <div class="analytics-card">
                        <h3>Calificaciones Promedio</h3>
                        <canvas id="ratingsChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- General Settings Section -->
            <section id="settings" class="content-section">
                <div class="section-header">
                    <h2>Configuración General</h2>
                    <p>Configuración general de la aplicación</p>
                </div>
                
                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>Configuración de la Aplicación</h3>
                        <div class="form-group">
                            <label for="appName">Nombre de la Aplicación:</label>
                            <input type="text" id="appName" value="DriverParty">
                        </div>
                        
                        <div class="form-group">
                            <label for="supportEmail">Email de Soporte:</label>
                            <input type="email" id="supportEmail" value="support@driverparty.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="supportPhone">Teléfono de Soporte:</label>
                            <input type="tel" id="supportPhone" value="+1-800-DRIVER">
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h3>Configuración de Mapas</h3>
                        <div class="form-group">
                            <label for="defaultZoom">Zoom por Defecto:</label>
                            <input type="number" id="defaultZoom" min="10" max="20" value="15">
                        </div>
                        
                        <div class="form-group">
                            <label for="updateInterval">Intervalo de Actualización (ms):</label>
                            <input type="number" id="updateInterval" min="1000" max="30000" value="5000">
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h3>Configuración de Notificaciones</h3>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="soundEnabled" checked>
                                <span>Habilitar Sonidos</span>
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="vibrationEnabled" checked>
                                <span>Habilitar Vibración</span>
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label for="toastDuration">Duración de Notificaciones (ms):</label>
                            <input type="number" id="toastDuration" min="1000" max="10000" value="3000">
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button id="saveSettingsBtn" class="btn-primary">
                        <i class="fas fa-save"></i>
                        Guardar Configuración
                    </button>
                    <button id="resetSettingsBtn" class="btn-secondary">
                        <i class="fas fa-undo"></i>
                        Restaurar Valores
                    </button>
                </div>
            </section>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
